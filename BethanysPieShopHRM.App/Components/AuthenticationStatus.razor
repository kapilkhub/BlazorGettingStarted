@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using Microsoft.AspNetCore.Components.Authorization

@inject NavigationManager NavigationManager
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
	<Authorized>
		<h4>
			Hello, @context.User.Identity.Name!
			<a class="text-white text-decoration-none d-inline-block" href="#" @onclick="BeginSignOut">
				Logout
			</a>
		</h4>
	</Authorized>
	<NotAuthorized>
		<h4>
			<a class="text-white text-decoration-none" href="authentication/login">
				Login
			</a>
		</h4>
	</NotAuthorized>
</AuthorizeView>

@code {
	private async Task BeginSignOut(MouseEventArgs args)
	{
		await SignOutManager.SetSignOutState();
		NavigationManager.NavigateTo("authentication/logout");
	}
}
